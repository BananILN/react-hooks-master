# Компонент ReducerProblem

ReducerProblem — это компонент, представляющий список, где каждый элемент может быть выбран или снят с выбора. Он использует React хук `useReducer` для управления состоянием выбора для каждого элемента списка.

## Описание элементов кода:

1. `import React, {useReducer} from 'react';`

   Код импортирует React и хук useReducer. Хук useReducer используется для управления состоянием списка.

2. `const listReducer = (state = [], action) => {...};`

   `listReducer` - это функция редуктор, которая обрабатывает действия, связанные с выбором элемента списка. Генерирует новое состояние на основе предыдущего состояния и выполненного действия.

3. `const Item = React.memo(({item, onClick}) => {...});`

   `Item` - это презентационный компонент, который отображает элемент списка.

4. `<Item key={item.id} item={item} onClick={() => dispatch({type: 'select', index})} />`

   Компонент `Item` используется внутри компонента `ReducerProblem` для отображения каждого элемента списка.

5. `const [state, dispatch] = useReducer(listReducer, items);`

   `useReducer` используется для создания текущего состояния и функции обновления этого состояния (`dispatch`).

6. `<ul className="list-container">...`

   Отображает список элементов. При клике по элементу он обрабатывается с помощью функции `dispatch`, отправляющей действие `select` и index элемента.

## Внутренние особенности работы:

- `useReducer` используется для управления состоянием выбора для каждого элемента списка.

- Редуктор `listReducer` обрабатывает действие `select`, инвертируя состояние выбран/не выбран для целевого элемента.

- Презентационный компонент `Item` обёрнут в `React.memo`, что помогает избежать ненужных рендеров, если пропсы не меняются.

## Рекомендации по использованию:

- Обратите внимание на то, что все элементы перерендериваются, когда состояние одного из элементов меняется. Это происходит из-за того, как React.compare сравнивает старый и новый массивы элементов. Для оптимизации вы можете использовать нормализацию данных или ключи React для избежания этой проблемы.

- Компонент `Item` универсален и может быть использован в любом другом контексте отображения списков. Однако, он предназначен для работы с данной структурой данных и может потребовать модификации для других случаев использования.