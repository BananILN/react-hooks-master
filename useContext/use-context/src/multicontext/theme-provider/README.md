
# Компонент ThemeContextProvider

`ThemeContextProvider` - это компонент высшего порядка в React, использующий Context API для предоставления функционала по управлению темой оформления в приложении. Он позволяет другим компонентам получать и изменять текущую выбранную тему.

## Импорты

```javascript
import React, { createContext, useContext, useState } from 'react';
```
С помощью функций `createContext` и `useContext` мы работаем с контекстом, а `useState` позволяет нам использовать состояние в функциональном компоненте.

## Общая структура

```javascript
const ThemeContext = createContext();
```
С помощью `createContext()` создается контекст `ThemeContext`. Этот контекст предоставляет возможность передачи данных между компонентами без необходимости прокидывания пропсов через каждый компонент от родителя к потомку.

```javascript
export function ThemeContextProvider({ children }) {
    const [theme, setTheme] = useState("light");

    const toggleTheme = () => {
        setTheme(prevTheme => (prevTheme === 'light' ? 'dark' : 'light'));
    };

    return (
        <ThemeContext.Provider value={{ theme, toggleTheme }}>
            {children}
        </ThemeContext.Provider>
    );
}
```
Функциональный компонент `ThemeContextProvider` использует хук состояния `useState` для того, чтобы хранить текущую тему (`light` или `dark`).

- `toggleTheme` - это функция, которая переключает текущую тему. Если предыдущая тема была `light`, она сменится на `dark`, и наоборот.

- `ThemeContext.Provider` используется для передачи текущей темы и функции `toggleTheme` во все компоненты, которые являются потомками `ThemeContextProvider` (`children`).

```javascript
export function useTheme() {
    return useContext(ThemeContext);
}
```
`useTheme()` - это пользовательский хук, который предназначен для удобства использования `ThemeContext`. С его помощью в любом месте приложения можно получить доступ к текущей теме и функции для ее переключения.

## Примечания

При использовании контекста важно помнить о границах его применения. Контекст отлично подходит для передачи данных, которые должны быть доступны во многих местах приложения (таких как выбранная тема оформления), но стоит избегать его использования для передачи данных, которые нужны только небольшому числу компонентов.

Еще один важный аспект - функции, передаваемые в контекст, могут вызываться в любом компоненте, имеющем к ним доступ. Это значит, что стоит быть внимательными с выполнением сайд-эффектов в таких функциях - возможно, они будут вызваны в неожиданных местах.

Всегда следует помнить о правилах использования хуков React - вызов функции `useContext` должен происходить на верхнем уровне функции компонента, предназначенной для рендеринга, а не внутри циклов, условий или вложенных функций.
